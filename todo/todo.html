<!DOCTYPE html>
<html>

<head>
  <title>Todo App</title>
  <link rel="stylesheet" href="todo.css">
  <script src="https://kit.fontawesome.com/ef10e698c9.js" crossorigin="anonymous"></script>
</head>

<body>

  <div class="container">
    <div class="wraper">
      <h1>Todo App</h1>
      <div class="todo">
        <div class="add-todo">
          <input type="text" id="add-task" placeholder="Add your new todo">
          <button id="add-btn"><i class="fa-solid fa-plus"></i></button>
        </div>
        <div id="todo-item" class="todo-list"></div>
        <div class="todo-bottom">
          <div class="todo-detail">You have <span id="todo-size"></span> pending tasks</div>
          <button id="clear-btn">Clear All</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    let todos = [
      { id: 0, task: "Buy a new gaming laptop" },
      { id: 1, task: "Complete a previous task" },
      { id: 2, task: "Create video for YouTube" },
      { id: 3, task: "Create a new portfolio site" },
    ];

    function showTask() {
      let todoString = "";
      todos.forEach((todo) => {
        todoString += `<div class="todo-item">
          <span class="detail">${todo.task}</span>
          <button class="delete-btn"><i class="fa-solid fa-trash"></i></button>
          </div>`
      });
      document.getElementById("todo-item").innerHTML = todoString;
      document.getElementById("todo-size").innerHTML = todos.length;
      addEventDeleteBtn();
    }

    function addEventDeleteBtn() {
      let deleteBtns = document.getElementsByClassName("delete-btn");
      Array.from(deleteBtns).forEach((btn, index) => {
        btn.addEventListener('click', () => {
          todos = todos.filter((todo) => todo !== todos[index]);
          showTask();
        })
      })
    }

    function addTask() {
      let task = document.getElementById("add-task").value;
      if (task !== "") {
        todos = [...todos, { id: todos.length, task: task }]
        document.getElementById("add-task").value = "";
        showTask();
      }
    }

    function clearTask() {
      if (todos.length > 0) {
        todos = [];
        showTask();
      }
    }

    document.getElementById("add-btn").addEventListener("click", addTask);
    document.getElementById("clear-btn").addEventListener("click", clearTask);

    showTask();

  </script>

</body>

</html>